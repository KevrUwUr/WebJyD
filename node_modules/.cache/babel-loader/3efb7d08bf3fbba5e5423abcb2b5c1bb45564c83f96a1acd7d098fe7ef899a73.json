{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/EQUIPO/Desktop/ProyectoKev/REACT/WebJyD/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/EQUIPO/Desktop/ProyectoKev/REACT/WebJyD/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/EQUIPO/Desktop/ProyectoKev/REACT/WebJyD/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import{useNavigate}from\"react-router-dom\";import{AuthContext}from\"../assets/js/AuthContext\";import\"../assets/css/Index.css\";import\"../assets/css/Google-Style-Login-.css\";import{InicioSesion}from\"../assets/js/Authorization\";import{show_alert}from\"../Functions\";import logo from\"../assets/img/Logo.png\";import fondo from\"../assets/img/fondo-azul-rojo.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LogIn=function LogIn(){var _useContext=useContext(AuthContext),setAccessToken=_useContext.setAccessToken,setRefreshToken=_useContext.setRefreshToken;var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var Validar=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _yield$InicioSesion,accessToken,refreshToken;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(username.trim()===\"\")){_context.next=5;break;}show_alert(\"error\",\"Escribe el correo electrónico\");_context.next=28;break;case 5:if(!(password.trim()===\"\")){_context.next=9;break;}show_alert(\"error\",\"Escribe la contraseña\");_context.next=28;break;case 9:_context.prev=9;_context.next=12;return InicioSesion(username,password);case 12:_yield$InicioSesion=_context.sent;accessToken=_yield$InicioSesion.accessToken;refreshToken=_yield$InicioSesion.refreshToken;_context.next=17;return setAccessToken(accessToken);case 17:_context.next=19;return setRefreshToken(refreshToken);case 19:localStorage.setItem(\"accessToken\",accessToken);localStorage.setItem(\"refreshToken\",refreshToken);_context.next=23;return navigate(\"/Index\");case 23:_context.next=28;break;case 25:_context.prev=25;_context.t0=_context[\"catch\"](9);show_alert(\"error\",\"Error en inicio de sesión\");case 28:case\"end\":return _context.stop();}},_callee,null,[[9,25]]);}));return function Validar(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrapper items-center\",style:{display:\"grid\",gridTemplateRows:\"2\",alignContent:\"center\",alignItems:\"center\",justifyItems:\"center\",justifyContent:\"center\",width:\"100%\",height:\"100%\",backgroundImage:\"url(\".concat(fondo,\")\"),// Ajuste aquí\nbackgroundSize:\"cover\"// Ajustar tamaño para cubrir todo el contenedor\n},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-md pt-4 pb-4 w-70 bg-light bg-opacity-50 border border-5 rounded-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row p-3\",style:{alignContent:\"center\",alignItems:\"center\",justifyItems:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",style:{width:\"30%\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"fs-5 fw-semibold text\",children:\"Usuario\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",id:\"inputEmail\",value:username,onChange:function onChange(e){return setUserName(e.target.value);},required:\"\",placeholder:\"Usuario\",autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",style:{gap:\"5px\"},children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"fs-5 text fw-bold\",children:\"Contrase\\xF1a\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"password\",id:\"inputPassword\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:\"\",placeholder:\"Contrase\\xF1a\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",style:{gap:\"5px\",marginTop:\"15px\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark btn-md w-100\",onClick:function onClick(e){return Validar(e);},style:{fontFamily:\"ABeeZee, sans-serif\"},children:\"Ingresar\"})})]})]})})});};export default LogIn;","map":{"version":3,"names":["React","useState","useContext","useNavigate","AuthContext","InicioSesion","show_alert","logo","fondo","jsx","_jsx","jsxs","_jsxs","LogIn","_useContext","setAccessToken","setRefreshToken","navigate","_useState","_useState2","_slicedToArray","username","setUserName","_useState3","_useState4","password","setPassword","Validar","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","_yield$InicioSesion","accessToken","refreshToken","wrap","_callee$","_context","prev","next","preventDefault","trim","sent","localStorage","setItem","t0","stop","_x","apply","arguments","className","children","style","display","gridTemplateRows","alignContent","alignItems","justifyItems","justifyContent","width","height","backgroundImage","concat","backgroundSize","src","alt","type","id","value","onChange","target","required","placeholder","autoFocus","gap","marginTop","onClick","fontFamily"],"sources":["C:/Users/EQUIPO/Desktop/ProyectoKev/REACT/WebJyD/src/Componentes/LogIn.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../assets/js/AuthContext\";\r\nimport \"../assets/css/Index.css\";\r\nimport \"../assets/css/Google-Style-Login-.css\";\r\nimport { InicioSesion } from \"../assets/js/Authorization\";\r\nimport { show_alert } from \"../Functions\";\r\nimport logo from \"../assets/img/Logo.png\";\r\nimport fondo from \"../assets/img/fondo-azul-rojo.jpg\";\r\n\r\nconst LogIn = () => {\r\n  const { setAccessToken, setRefreshToken } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  const [username, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const Validar = async (e) => {\r\n    e.preventDefault();\r\n    if (username.trim() === \"\") {\r\n      show_alert(\"error\", \"Escribe el correo electrónico\");\r\n    } else if (password.trim() === \"\") {\r\n      show_alert(\"error\", \"Escribe la contraseña\");\r\n    } else {\r\n      try {\r\n        const { accessToken, refreshToken } = await InicioSesion(\r\n          username,\r\n          password\r\n        );\r\n\r\n        await setAccessToken(accessToken);\r\n        await setRefreshToken(refreshToken);\r\n        localStorage.setItem(\"accessToken\", accessToken);\r\n        localStorage.setItem(\"refreshToken\", refreshToken);\r\n        await navigate(\"/Index\");\r\n      } catch (error) {\r\n        show_alert(\"error\", \"Error en inicio de sesión\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div\r\n        className=\"wrapper items-center\"\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateRows: \"2\",\r\n          alignContent: \"center\",\r\n          alignItems: \"center\",\r\n          justifyItems: \"center\",\r\n          justifyContent: \"center\",\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          backgroundImage: `url(${fondo})`, // Ajuste aquí\r\n          backgroundSize: \"cover\", // Ajustar tamaño para cubrir todo el contenedor\r\n        }}\r\n      >\r\n        <div className=\"container-md pt-4 pb-4 w-70 bg-light bg-opacity-50 border border-5 rounded-3\">\r\n          <div\r\n            className=\"row p-3\"\r\n            style={{\r\n              alignContent: \"center\",\r\n              alignItems: \"center\",\r\n              justifyItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <img\r\n              src={logo}\r\n              alt=\"Logo\"\r\n              style={{\r\n                width: \"30%\",\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <span>\r\n                <p className=\"fs-5 fw-semibold text\">Usuario</p>\r\n              </span>\r\n              <input\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                id=\"inputEmail\"\r\n                value={username}\r\n                onChange={(e) => setUserName(e.target.value)}\r\n                required=\"\"\r\n                placeholder=\"Usuario\"\r\n                autoFocus\r\n              />\r\n            </div>\r\n            <div className=\"col-md-12\" style={{ gap: \"5px\" }}>\r\n              <span>\r\n                <p className=\"fs-5 text fw-bold\">Contraseña</p>\r\n              </span>\r\n              <input\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n                id=\"inputPassword\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required=\"\"\r\n                placeholder=\"Contraseña\"\r\n              />\r\n            </div>\r\n            <div\r\n              className=\"col-md-12\"\r\n              style={{ gap: \"5px\", marginTop: \"15px\" }}\r\n            >\r\n              <button\r\n                className=\"btn btn-dark btn-md w-100\"\r\n                onClick={(e) => Validar(e)}\r\n                style={{\r\n                  fontFamily: \"ABeeZee, sans-serif\",\r\n                }}\r\n              >\r\n                Ingresar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogIn;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}